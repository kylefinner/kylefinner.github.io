<!DOCTYPE HTML>
<!--
  Hielo by TEMPLATED
  templated.co @templatedco
  Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
  <head>
    <title>Dr. Kyle Finner</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- TEMPLATED and custom CSS -->
    <link rel="stylesheet" href="assets/css/main.css" />

    <!-- Inline style to display sub-project links in 3 columns -->
    <style>
      /* Make the projectLinks <ul> a flex container so that each <li>
         can be displayed side by side. */
      #projectLinks {
        display: flex;
        flex-wrap: wrap;     /* allow wrapping on small screens */
        gap: 1rem;           /* space between items */
        padding-left: 0;     /* remove default UL padding if you like */
        justify-content: center; /* or space-between, etc. */
      }

      /* Each <li> tries to occupy ~1/3 of the row, wrapping as needed */
      #projectLinks li {
        list-style: none;
        text-align: center;
        flex: 1 1 calc(33% - 1rem);  /* 3 columns, minus the gap */
        box-sizing: border-box;
        min-width: 120px;            /* don't shrink too small */
      }

      /* Optional: on narrower screens, switch to 2 columns */
      @media (max-width: 600px) {
        #projectLinks li {
          flex: 1 1 calc(50% - 1rem);
        }
      }
    </style>
    <style>
      .cluster-col   { flex: 1; min-width: 260px; }
      .cluster-links a { display:block; margin:0.3em 0; }
    </style>

  </head>
  <body>

    <!-- Header (Optional) -->
    <header id="header" class="alt">
      <div class="logo"><a href="index.html">Kyle Finner</a></div>
      <a href="#menu">Menu</a>
    </header>

    <!-- Nav (Optional) -->
    <nav id="menu">
      <ul class="links">
        <li><a href="index.html">Home</a></li>
        <li><a target="_blank" rel="noopener" href="images/KFCV2022.pdf">CV</a></li>
        <li><a target="_blank" rel="noopener" href="http://www.mergingclustercollaboration.org/">MC2</a></li>
        <li><a target="_blank" rel="noopener" href="images/bullet-cluster-jwst-webb.pdf">Bullet Cluster</a></li>
      </ul>
    </nav>

    <!-- Example "Hero" or Banner Section (Optional) -->
    <section class="banner full">
      <article>
        <img src="images/photography-of-night-sky_lowres.jpg" alt="" />
        <div class="inner">
          <header>
            <p>Dark Matter | Gravitational Lensing | Galaxy Clusters</p>
            <h2>Kyle Finner</h2>
            <h4><i>In search of the answers to questions unknown</i></h4>
          </header>
        </div>
      </article>
    </section>

    <!-- About Me & Projects (two columns) -->
    <section id="two" class="wrapper style3">
      <div class="inner">
        <div class="row uniform">
          <!-- Column 1: About Me -->
          <div class="6u 12u$(small)">
            <header class="align-left">
              <h2>About Me</h2>
              I am an Astronomer at the California Institute of Technology / IPAC.<br>
              My primary research interests are:
                <li>Developing and applying gravitational lensing techniques</li>
                <li>The properties of dark matter</li>
                <li>Formation and evolution of the large-scale structure of the universe</li>
                <li>Astrophysical processes of the intracluster medium</li>
                <li>Telescope instrumentation</li>
            </header>
          </div>

          <!-- Column 2: Projects (Dynamic) -->
					<div class="6u 12u$(small)" id="projectsColumn">
					  <header class="align-left" style="position: relative;">
					    <h2>Projects</h2>

					    <!-- Right-aligned link container -->
					    <div id="backLink" style="float: right; margin-top: -2em;">
					      <!-- Initially hidden or empty; we show it in loadCategory if needed -->
					    </div>

					    <ul id="projectLinks">
					      <li><a href="#" onclick="event.preventDefault(); loadCategory('merging');">Merging Clusters</a></li>
					      <li><a href="#" onclick="event.preventDefault(); loadCategory('distant');">Distant Clusters</a></li>
					    </ul>
					  </header>
					</div>
        </div><!-- .row.uniform -->
      </div><!-- .inner -->
    </section>

    <!-- SINGLE CLUSTER PANEL (Image Left, Text Right) -->
    <section id="clusterDisplay" class="wrapper style2">
      <div class="inner" id="clusterPanel" style="text-align:center;">
        <!-- Initially empty; show a placeholder: -->
        <p><em>Select a cluster from the right column to view its details.</em></p>
      </div>
    </section>

    <!-- Footer (Optional) -->
    <footer id="footer">
      <div class="container">
        <ul class="icons">
          <!-- Social media icons or links, if desired -->
        </ul>
      </div>
      <div class="copyright">
        &copy; Kyle Finner. All rights reserved. | Hielo by TEMPLATED
      </div>
    </footer>

    <!-- TEMPLATED Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/skel.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>

    <!-- Custom JavaScript for dynamic project panel -->
    <!-- ▸ BEGIN FULL <script> BLOCK ◂ -->
<script>
  /* ─────────────────────────────────────────────────────────────
     0) CONSTANTS
     ───────────────────────────────────────────────────────────── */
  /* Root URL of the shared Box folder that holds all cluster files */
  const boxBase = 'https://caltech.box.com/shared/static/soy3ftcvpyrxh8tv0mpqka8ubpc59665';

  /* HTML for the two top-level project links (reset state) */
  const defaultLinksHTML = `
    <li><a href="#" onclick="event.preventDefault(); loadCategory('merging');">Merging Clusters</a></li>
    <li><a href="#" onclick="event.preventDefault(); loadCategory('distant');">Distant Clusters</a></li>
  `;

  /* ─────────────────────────────────────────────────────────────
     1) DATA  (projectsData & clusterDetails)
     ───────────────────────────────────────────────────────────── */
  /* projectsData lists every cluster ID and display name */
  const projectsData = {
    merging: [
      { id: 'toothbrush',  name: 'Toothbrush Cluster' },
      { id: 'abell115',    name: 'Abell 115' },
      { id: 'abell521',    name: 'Abell 521' },
      { id: 'abell523',    name: 'Abell 523' },
      { id: 'abell746',    name: 'Abell 746' },
      { id: 'abell781',    name: 'Abell 781' },
      { id: 'abell1240',   name: 'Abell 1240' },
      { id: 'abell1300',   name: 'Abell 1300' },
      { id: 'abell1612',   name: 'Abell 1612' },
      { id: 'abell2034',   name: 'Abell 2034' },
      { id: 'abell2061',   name: 'Abell 2061' },
      { id: 'abell2163',   name: 'Abell 2163' },
      { id: 'abell2255',   name: 'Abell 2255' },
      { id: 'abell2345',   name: 'Abell 2345' },
      { id: 'abell2744',   name: 'Abell 2744' },
      { id: 'abell3411',   name: 'Abell 3411' },
      { id: 'macsj1149',   name: 'MACS J1149' },
      { id: 'macsj1752',   name: 'MACS J1752' },
      { id: 'plckg287',    name: 'PLCK G287' },
      { id: 'plckg108',    name: 'PLCK G108' },
      { id: 'rxcj1314',    name: 'RXC J1314' },
      { id: 'zwcl0008',    name: 'ZwCl 0008' },
      { id: 'zwcl1447',    name: 'ZwCl 1447' },
      { id: 'zwcl1856',    name: 'ZwCl 1856' },
      { id: 'zwcl2341',    name: 'ZwCl 2341' },
      { id: 'spt2023',     name: 'SPT2023-5535' },
      { id: 'mccollab',    name: 'Merging Cluster Collaboration' },
    ],
    distant: [
      { id: 'sparcs_xray', name: 'SpARCS J1049+56 (X-ray)' },
      { id: 'sparcs_wl',   name: 'SpARCS J1049+56 (Weak Lensing)' }
    ]
  };

  /* clusterDetails contains rich data for clusters you’ve already
     customized.  For brevity, only Abell 1240 is shown here—you can
     keep all your existing entries.  The script adds defaults for
     any IDs not present.                                         */
  const clusterDetails = {
    abell1240: {
      title: 'Abell 1240',
      image: 'images/abell1240_4pane_SN_auto.jpg',
      alt:   'Abell 1240',
      paragraph: `
        A double radio relic cluster that is part of a vast filamentary structure.
        The weak-lensing mass distribution is detected for Abell 1240 and its companion A1237.
      `,
      references: [
        { url: 'https://arxiv.org/abs/2109.06879', text: 'Cho et al. 2021' }
      ]
    }
    /* … keep your other custom clusters here … */
  };

  /* ─────────────────────────────────────────────────────────────
     2)  FILL IN DEFAULT INFO FOR ANY CLUSTER MISSING DETAILS
     ───────────────────────────────────────────────────────────── */
  Object.values(projectsData).flat().forEach(({ id, name }) => {
    if (!clusterDetails[id]) {
      clusterDetails[id] = {
        title: name,
        image: `images/${id}_4pane_SN_auto.jpg`,
        alt:   name,
        paragraph: `Two-sentence placeholder summary for ${name}.`,
        references: []
      };
    }
  });

  /* ─────────────────────────────────────────────────────────────
     3)  ADD “Finner et al. 2025” REFERENCE TO ALL ABELL CLUSTERS
     ───────────────────────────────────────────────────────────── */
  Object.keys(clusterDetails).forEach(id => {
    if (id.toLowerCase().includes('abell')) {
      clusterDetails[id].references.push({
        url: 'https://ui.adsabs.harvard.edu/abs/2025ApJS..277...28F/abstract',
        text: 'Finner et al. 2025'
      });
    }
  });

  /* ─────────────────────────────────────────────────────────────
     4)  VIEW-LOGIC  (reset, loadCategory, showCluster)
     ───────────────────────────────────────────────────────────── */
  function resetProjects() {
    document.getElementById('projectLinks').innerHTML = defaultLinksHTML;
    document.getElementById('backLinkFlex').style.display = 'none';
  }

  function loadCategory(category) {
    const ul = document.getElementById('projectLinks');
    ul.innerHTML = '';

    projectsData[category].forEach(({ id, name }) => {
      const li = document.createElement('li');
      const a  = document.createElement('a');
      a.href   = '#';
      a.textContent = name;
      a.onclick = e => { e.preventDefault(); showCluster(id); };
      li.appendChild(a);
      ul.appendChild(li);
    });

    /* show the right-aligned “Back” link */
    document.getElementById('backLinkFlex').style.display = 'inline';
  }

  function showCluster(id) {
  const c = clusterDetails[id];
  if (!c) return;

  /* local data-file links */
  const dataLinksHTML = `
    <h4>Cluster WL Data</h4>
    <div class="cluster-links">
      <a target="_blank" href="Merging_Clusters/${id}_color.jpg">Download the color jpg.</a>
      <a target="_blank" href="Merging_Clusters/${id}.head">Download the wcs .head file.</a>
      <a target="_blank" href="Merging_Clusters/${id}_WL_SN.fits">Download the mass map.</a>
    </div>
  `;

  /* literature buttons */
  const refButtons = c.references
    .map(r => `<a class="button alt" target="_blank" href="${r.url}">${r.text}</a>`)
    .join(' ');

  /* 3-column flexbox */
  const panelHTML = `
    <div class="box"
         style="margin:auto;max-width:1100px;display:flex;flex-wrap:wrap;gap:1.5rem;">
      <!-- Column 1 — image -->
      <div class="cluster-col">
        <img src="${c.image}" alt="${c.alt}" style="width:100%;height:auto;">
      </div>

      <!-- Column 2 — text + literature refs -->
      <div class="cluster-col" style="text-align:left;">
        <h3>${c.title}</h3>
        <p>${c.paragraph}</p>
        <footer style="display:flex;flex-wrap:wrap;gap:.5rem 1rem;">${refButtons}</footer>
      </div>

      <!-- Column 3 — WL data links -->
      <div class="cluster-col" style="text-align:left;">
        ${dataLinksHTML}
      </div>
    </div>
  `;

  document.getElementById('clusterPanel').innerHTML = panelHTML;
}

</script>
<!-- ▸ END FULL <script> BLOCK ◂ -->

  </body>
</html>
